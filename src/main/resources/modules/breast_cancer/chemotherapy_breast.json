{
  "name": "chemotherapy_breast",
  "remarks": [
    "A blank module"
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "direct_transition": "Set chemo counter"
    },
    "Cyclophosphamide": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 3002,
          "display": "Cytoxan"
        }
      ],
      "direct_transition": "Adjuvant Chemotherapy Procedure",
      "assign_to_attribute": "chemoMed"
    },
    "Anthracyclines": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Doxorubicin",
          "distribution": 0.5
        },
        {
          "transition": "Epirubicin",
          "distribution": 0.5
        }
      ]
    },
    "Carboplatin": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 40048,
          "display": "Paraplatin"
        }
      ],
      "direct_transition": "Adjuvant Chemotherapy Procedure",
      "assign_to_attribute": "chemoMed"
    },
    "Taxanes": {
      "type": "Simple",
      "direct_transition": "Paclitaxel"
    },
    "5-fluorouracil": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 4492,
          "display": "5-FU"
        }
      ],
      "direct_transition": "Adjuvant Chemotherapy Procedure",
      "assign_to_attribute": "chemoMed"
    },
    "Doxorubicin": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 42512,
          "display": "Adriamycin"
        }
      ],
      "direct_transition": "Adjuvant Chemotherapy Procedure",
      "remarks": [
        "- Doxorubicin (Adriamycin)",
        "- Epriubicin (Ellence) ",
        "https://www.cancer.org/cancer/breast-cancer/treatment/chemotherapy-for-breast-cancer.html"
      ],
      "assign_to_attribute": "chemoMed"
    },
    "Epirubicin": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 203766,
          "display": "Ellence"
        }
      ],
      "direct_transition": "Adjuvant Chemotherapy Procedure",
      "assign_to_attribute": "chemoMed"
    },
    "Paclitaxel": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": 202982,
          "display": "Taxotere"
        }
      ],
      "direct_transition": "Adjuvant Chemotherapy Procedure",
      "assign_to_attribute": "chemoMed"
    },
    "Adjuvant_Chemotherapy": {
      "type": "Encounter",
      "reason": "Breast Cancer",
      "distributed_transition": [
        {
          "transition": "Anthracyclines",
          "distribution": 0.3
        },
        {
          "transition": "Taxanes",
          "distribution": 0.3
        },
        {
          "transition": "5-fluorouracil",
          "distribution": 0.05
        },
        {
          "transition": "Cyclophosphamide",
          "distribution": 0.3
        },
        {
          "transition": "Carboplatin",
          "distribution": 0.05
        }
      ],
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185347001,
          "display": "Encounter for problem"
        }
      ],
      "encounter_class": "inpatient"
    },
    "Set chemo counter": {
      "type": "SetAttribute",
      "attribute": "chemoCount",
      "direct_transition": "Adjuvant_Chemotherapy",
      "value": 0
    },
    "Adjuvant Chemotherapy Procedure": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 367336001,
          "display": "Chemotherapy (procedure)"
        }
      ],
      "duration": {
        "low": 0,
        "high": 2,
        "unit": "hours"
      },
      "direct_transition": "End Current Chemo Treatment"
    },
    "Terminal": {
      "type": "Terminal"
    },
    "End Current Chemo Treatment": {
      "type": "EncounterEnd",
      "conditional_transition": [
        {
          "transition": "Increment Chemo Counter",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "chemoCount",
            "operator": "<",
            "value": 8
          }
        },
        {
          "transition": "End Adjuvant Chemotherapy Medication"
        }
      ]
    },
    "End Adjuvant Chemotherapy Medication": {
      "type": "MedicationEnd",
      "direct_transition": "Terminal",
      "referenced_by_attribute": "chemoMed"
    },
    "Increment Chemo Counter": {
      "type": "Counter",
      "attribute": "chemoCount",
      "action": "increment",
      "direct_transition": "Delay Until Next Cycle"
    },
    "Delay Until Next Cycle": {
      "type": "Delay",
      "exact": {
        "quantity": 3,
        "unit": "weeks"
      },
      "direct_transition": "Start New Cycle"
    },
    "Start New Cycle": {
      "type": "Encounter",
      "encounter_class": "inpatient",
      "reason": "Breast Cancer",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 185347001,
          "display": "Encounter for problem"
        }
      ],
      "direct_transition": "Adjuvant Chemotherapy Procedure"
    }
  }
}
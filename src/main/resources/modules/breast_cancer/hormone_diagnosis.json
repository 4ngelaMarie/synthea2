{
  "name": "Hormone_Diagnosis",
  "remarks": [
    "This module checks for HER2 and then assigns either HER2 positive/negative. This follows suit for ER and PR. Finally, it accounts for the Triple negative factor at the end. "
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "direct_transition": "Human_Epidermal_Growth_Factor_Receptor_2__HER2__Detection___Fluorescence_in_situ_Hybridization__FISH_"
    },
    "Terminal": {
      "type": "Terminal"
    },
    "Human_Epidermal_Growth_Factor_Receptor_2__HER2__Detection___Fluorescence_in_situ_Hybridization__FISH_": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 434363004,
          "display": "Human epidermal growth factor receptor 2 gene detection by fluorescence in situ hybridization (procedure)"
        }
      ],
      "duration": {
        "low": 0,
        "high": 1,
        "unit": "days"
      },
      "remarks": [
        "https://ww5.komen.org/BreastCancer/TumorCharacteristics.html"
      ],
      "direct_transition": "Human_Epidermal_Growth_Factor_Receptor_2_HER2_Detection_Immunochemistry"
    },
    "HER2_negative": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "85319-2",
          "display": "HER2 [Presence] in Breast cancer specimen by Immune stain"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 260385009,
        "display": "Negative (qualifier value)"
      },
      "direct_transition": "HER2-"
    },
    "HER2_positive": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "85319-2",
          "display": "HER2 [Presence] in Breast cancer specimen by Immune stain"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 10828004,
        "display": "Positive (qualifier value)"
      },
      "direct_transition": "HER2+"
    },
    "Tumor_Biopsy_to_Test_Estrogen_Receptor_Status": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "ER_negative",
          "distribution": 0.2
        },
        {
          "transition": "ER_positive",
          "distribution": 0.8
        }
      ],
      "remarks": [
        "https://ww5.komen.org/BreastCancer/TumorCharacteristics.html",
        "",
        "https://www.webmd.com/breast-cancer/breast-cancer-types-er-positive-her2-positive#1"
      ]
    },
    "ER_negative": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "85337-4",
          "display": "Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 260385009,
        "display": "Negative (qualifier value)"
      },
      "direct_transition": "ER-"
    },
    "ER_positive": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "85337-4",
          "display": "Estrogen receptor Ag [Presence] in Breast cancer specimen by Immune stain"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 10828004,
        "display": "Positive (qualifier value)"
      },
      "direct_transition": "ER+"
    },
    "Tumor_Biopsy_to_Test_Progesterone_Receptor_Status": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "PR_negative",
          "distribution": 0.35
        },
        {
          "transition": "PR_positive",
          "distribution": 0.65
        }
      ],
      "remarks": [
        "https://ww5.komen.org/BreastCancer/TumorCharacteristics.html",
        "",
        "https://www.webmd.com/breast-cancer/breast-cancer-types-er-positive-her2-positive#1"
      ]
    },
    "PR_negative": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "85339-0",
          "display": "Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 260385009,
        "display": "Negative (qualifier value)"
      },
      "direct_transition": "PR-"
    },
    "PR_positive": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "85339-0",
          "display": "Progesterone receptor Ag [Presence] in Breast cancer specimen by Immune stain"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 10828004,
        "display": "Positive (qualifier value)"
      },
      "direct_transition": "PR+"
    },
    "Overall_Receptor_Analysis": {
      "type": "Simple",
      "remarks": [
        "If all hormones are negative transition to triple negative"
      ],
      "conditional_transition": [
        {
          "transition": "Hormone Receptor Negative",
          "condition": {
            "condition_type": "And",
            "conditions": [
              {
                "condition_type": "Attribute",
                "attribute": "breast_cancer_ER",
                "operator": "==",
                "value": "ER-negative"
              },
              {
                "condition_type": "Attribute",
                "attribute": "breast_cancer_PR",
                "operator": "==",
                "value": "PR-negative"
              }
            ]
          }
        },
        {
          "transition": "Hormone Receptor Positive",
          "condition": {
            "condition_type": "And",
            "conditions": [
              {
                "condition_type": "Attribute",
                "attribute": "breast_cancer_ER",
                "operator": "==",
                "value": "ER-positive"
              },
              {
                "condition_type": "Attribute",
                "attribute": "breast_cancer_PR",
                "operator": "==",
                "value": "PR-positive"
              }
            ]
          }
        },
        {
          "transition": "Terminal"
        }
      ]
    },
    "HER2-": {
      "type": "SetAttribute",
      "attribute": "breast_cancer_HER2",
      "direct_transition": "Tumor_Biopsy_to_Test_Estrogen_Receptor_Status",
      "value": "HER2-negative"
    },
    "HER2+": {
      "type": "SetAttribute",
      "attribute": "breast_cancer_HER2",
      "value": "HER2-positive",
      "direct_transition": "Tumor_Biopsy_to_Test_Estrogen_Receptor_Status"
    },
    "ER-": {
      "type": "SetAttribute",
      "attribute": "breast_cancer_ER",
      "direct_transition": "Tumor_Biopsy_to_Test_Progesterone_Receptor_Status",
      "value": "ER-negative"
    },
    "ER+": {
      "type": "SetAttribute",
      "attribute": "breast_cancer_ER",
      "direct_transition": "Tumor_Biopsy_to_Test_Progesterone_Receptor_Status",
      "value": "ER-positive"
    },
    "PR-": {
      "type": "SetAttribute",
      "attribute": "breast_cancer_PR",
      "direct_transition": "Overall_Receptor_Analysis",
      "value": "PR-negative"
    },
    "PR+": {
      "type": "SetAttribute",
      "attribute": "breast_cancer_PR",
      "direct_transition": "Overall_Receptor_Analysis",
      "value": "PR-positive"
    },
    "Triple_Negative": {
      "type": "Observation",
      "category": "procedure",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "21924-6",
          "display": "Tumor marker Cancer"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 706970001,
        "display": "Triple negative malignant neoplasm of breast (disorder)"
      },
      "direct_transition": "Triple_Negative_Patient"
    },
    "Hormone Receptor Positive": {
      "type": "Observation",
      "category": "imaging",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": "10480-2",
          "display": "Estrogen+Progesterone receptor Ag [Presence] in Tissue by Immune stain"
        }
      ],
      "direct_transition": "Terminal",
      "value_code": {
        "system": "SNOMED-CT",
        "code": 10828004,
        "display": "Positive (qualifier value)"
      }
    },
    "Hormone Receptor Negative": {
      "type": "Observation",
      "category": "imaging",
      "unit": "",
      "codes": [
        {
          "system": "LOINC",
          "code": 417181009,
          "display": "Estrogen+Progesterone receptor Ag [Presence] in Tissue by Immune stain"
        }
      ],
      "value_code": {
        "system": "SNOMED-CT",
        "code": 260385009,
        "display": "Negative (qualifier value)"
      },
      "conditional_transition": [
        {
          "transition": "Triple_Negative",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "breast_cancer_HER2",
            "operator": "==",
            "value": "HER2-negative"
          }
        },
        {
          "transition": "Terminal"
        }
      ]
    },
    "Human_Epidermal_Growth_Factor_Receptor_2_HER2_Detection_Immunochemistry": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": 433114000,
          "display": "Human epidermal growth factor receptor 2 gene detection by immunohistochemistry (procedure)"
        }
      ],
      "duration": {
        "low": 0,
        "high": 1,
        "unit": "days"
      },
      "remarks": [
        "https://ww5.komen.org/BreastCancer/TumorCharacteristics.html",
        "https://www.webmd.com/breast-cancer/breast-cancer-types-er-positive-her2-positive#1"
      ],
      "distributed_transition": [
        {
          "transition": "HER2_negative",
          "distribution": 0.8
        },
        {
          "transition": "HER2_positive",
          "distribution": 0.2
        }
      ]
    },
    "Triple_Negative_Patient": {
      "type": "SetAttribute",
      "attribute": "breast_cancer_triple_wicked",
      "direct_transition": "Terminal",
      "value": true
    }
  }
}
{
  "name": "admission",
  "remarks": [
    "Hospitalization and ICU admission for survivors and non-survivors. Timelines from Table 1 and Table 2, and outcomes and complications according to Table 2, from https://doi.org/10.1016/S0140-6736(20)30566-3"
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "direct_transition": "IL6 Check"
    },
    "Terminal": {
      "type": "Terminal"
    },
    "Hospital Inpatient Admission": {
      "type": "Encounter",
      "encounter_class": "inpatient",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "1505002",
          "display": "Hospital admission for isolation (procedure)"
        }
      ],
      "conditional_transition": [
        {
          "transition": "Non Survivor Stay",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_death",
            "operator": "==",
            "value": true
          }
        },
        {
          "transition": "Survivor Stay"
        }
      ],
      "reason": "covid19"
    },
    "Survivor Stay": {
      "type": "SetAttribute",
      "attribute": "covid19_hospitalization_days",
      "direct_transition": "Admission Days",
      "range": {
        "low": 9,
        "high": 15
      }
    },
    "Non Survivor Stay": {
      "type": "SetAttribute",
      "attribute": "covid19_hospitalization_days",
      "direct_transition": "Admission Days",
      "range": {
        "low": 5,
        "high": 11
      }
    },
    "ICU Admission": {
      "type": "Encounter",
      "encounter_class": "inpatient",
      "reason": "covid19",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "305351004",
          "display": "Admission to intensive care unit (procedure)"
        }
      ],
      "conditional_transition": [
        {
          "transition": "Non Survivor ICU Stay",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_death",
            "operator": "==",
            "value": true
          }
        },
        {
          "transition": "Survivor ICU Stay"
        }
      ]
    },
    "End Symptoms": {
      "type": "CallSubmodule",
      "submodule": "covid19/end_symptoms",
      "direct_transition": "End_Outcomes"
    },
    "Survivor ICU Stay": {
      "type": "SetAttribute",
      "attribute": "covid19_icu_days",
      "direct_transition": "ICU First Day",
      "range": {
        "low": 2,
        "high": 9
      }
    },
    "Non Survivor ICU Stay": {
      "type": "SetAttribute",
      "attribute": "covid19_icu_days",
      "range": {
        "low": 4,
        "high": 12
      },
      "direct_transition": "ICU First Day"
    },
    "Death": {
      "type": "Death",
      "direct_transition": "Terminal"
    },
    "Hospitalization Day End": {
      "type": "Counter",
      "attribute": "covid19_hospitalization_days",
      "action": "decrement",
      "conditional_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_hospitalization_days",
            "operator": ">",
            "value": 0
          },
          "transition": "Hospitalization Next Day"
        },
        {
          "transition": "Determine Discharge"
        }
      ]
    },
    "Hospitalization Day Begin": {
      "type": "Counter",
      "attribute": "covid19_admission_days",
      "action": "increment",
      "direct_transition": "Hospitalization Set Daily Labs"
    },
    "ICU Day Begin": {
      "type": "Counter",
      "attribute": "covid19_admission_days",
      "action": "increment",
      "direct_transition": "ICU Set Daily Labs"
    },
    "ICU Day End": {
      "type": "Counter",
      "attribute": "covid19_icu_days",
      "action": "decrement",
      "conditional_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_icu_days",
            "operator": ">",
            "value": 0
          },
          "transition": "ICU Next Day"
        },
        {
          "transition": "Extubation_Check"
        }
      ]
    },
    "Hospitalization Daily Lab Values Non-Survivor": {
      "type": "CallSubmodule",
      "submodule": "covid19/nonsurvivor_lab_values",
      "direct_transition": "Hospitalization Labs"
    },
    "Hospitalization Daily Lab Values Survivor": {
      "type": "CallSubmodule",
      "submodule": "covid19/survivor_lab_values",
      "direct_transition": "Hospitalization Labs"
    },
    "ICU Labs": {
      "type": "CallSubmodule",
      "submodule": "covid19/daily_measurements",
      "direct_transition": "ICU Procedures"
    },
    "Hospitalization Set Daily Labs": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Hospitalization Daily Lab Values Non-Survivor",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_death",
            "operator": "==",
            "value": true
          }
        },
        {
          "transition": "Hospitalization Daily Lab Values Survivor"
        }
      ]
    },
    "ICU Set Daily Labs": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "ICU Daily Lab Values Non Survivor",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_death",
            "operator": "==",
            "value": true
          }
        },
        {
          "transition": "ICU Daily Lab Values Survivor"
        }
      ]
    },
    "ICU Daily Lab Values Non Survivor": {
      "type": "CallSubmodule",
      "submodule": "covid19/nonsurvivor_lab_values",
      "direct_transition": "ICU Labs"
    },
    "ICU Daily Lab Values Survivor": {
      "type": "CallSubmodule",
      "submodule": "covid19/survivor_lab_values",
      "direct_transition": "ICU Labs"
    },
    "Hospitalization Labs": {
      "type": "CallSubmodule",
      "submodule": "covid19/daily_measurements",
      "direct_transition": "Hospitalization Procedures"
    },
    "Hospitalization First Day": {
      "type": "Simple",
      "direct_transition": "CBC"
    },
    "CBC": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "58410-2",
          "display": "Complete blood count (hemogram) panel - Blood by Automated count"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "6690-2",
              "display": "Leukocytes [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 3,
            "high": 4
          }
        },
        {
          "category": "laboratory",
          "unit": "10*6/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "789-8",
              "display": "Erythrocytes [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 3.77,
            "high": 5.8
          }
        },
        {
          "category": "laboratory",
          "unit": "g/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "718-7",
              "display": "Hemoglobin [Mass/volume] in Blood"
            }
          ],
          "range": {
            "low": 11.1,
            "high": 14.1
          }
        },
        {
          "category": "laboratory",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "4544-3",
              "display": "Hematocrit [Volume Fraction] of Blood by Automated count"
            }
          ],
          "range": {
            "low": 37.5,
            "high": 46.6
          }
        },
        {
          "category": "laboratory",
          "unit": "fL",
          "codes": [
            {
              "system": "LOINC",
              "code": "787-2",
              "display": "MCV [Entitic volume] by Automated count"
            }
          ],
          "range": {
            "low": 79,
            "high": 97
          }
        },
        {
          "category": "laboratory",
          "unit": "pg",
          "codes": [
            {
              "system": "LOINC",
              "code": "785-6",
              "display": "MCH [Entitic mass] by Automated count"
            }
          ],
          "range": {
            "low": 26.6,
            "high": 33
          }
        },
        {
          "category": "laboratory",
          "unit": "g/dL",
          "codes": [
            {
              "system": "LOINC",
              "code": "786-4",
              "display": "MCHC [Mass/volume] by Automated count"
            }
          ],
          "range": {
            "low": 31.5,
            "high": 35.7
          }
        },
        {
          "category": "laboratory",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "788-0",
              "display": "Erythrocyte distribution width [Ratio] by Automated count"
            }
          ],
          "range": {
            "low": 12.3,
            "high": 15.4
          }
        },
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "777-3",
              "display": "Platelets [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 99,
            "high": 150
          }
        }
      ],
      "remarks": [
        "In the most severe patients, white-cell counts should be less than 4000 per mm3",
        "In the most severe patients, platelet counts should also trend towards being less than 150K per mm3",
        "In the most severe patients, median hemoglobin should be around 12.8 g/dL"
      ],
      "direct_transition": "CBC_Differential"
    },
    "CBC_Differential": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "57023-4",
          "display": "Auto Differential panel - Blood"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "770-8",
              "display": "Neutrophils/100 leukocytes in Blood by Automated count"
            }
          ],
          "range": {
            "low": 10,
            "high": 45
          }
        },
        {
          "category": "laboratory",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "736-9",
              "display": "Lymphocytes/100 leukocytes in Blood by Automated count"
            }
          ],
          "range": {
            "low": 5,
            "high": 25
          }
        },
        {
          "category": "laboratory",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "5905-5",
              "display": "Monocytes/100 leukocytes in Blood by Automated count"
            }
          ],
          "range": {
            "low": 5,
            "high": 15
          }
        },
        {
          "category": "laboratory",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "713-8",
              "display": "Eosinophils/100 leukocytes in Blood by Automated count"
            }
          ],
          "range": {
            "low": 3,
            "high": 6
          }
        },
        {
          "category": "laboratory",
          "unit": "%",
          "codes": [
            {
              "system": "LOINC",
              "code": "706-2",
              "display": "Basophils/100 leukocytes in Blood by Automated count"
            }
          ],
          "range": {
            "low": 2,
            "high": 4
          }
        },
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "751-8",
              "display": "Neutrophils [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 1.4,
            "high": 4
          }
        },
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "731-0",
              "display": "Lymphocytes [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 0.6,
            "high": 1
          }
        },
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "742-7",
              "display": "Monocytes [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 0.5,
            "high": 1.4
          }
        },
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "711-2",
              "display": "Eosinophils [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 0.2,
            "high": 0.6
          }
        },
        {
          "category": "laboratory",
          "unit": "10*3/uL",
          "codes": [
            {
              "system": "LOINC",
              "code": "704-7",
              "display": "Basophils [#/volume] in Blood by Automated count"
            }
          ],
          "range": {
            "low": 0.2,
            "high": 0.4
          }
        }
      ],
      "remarks": [
        "Viral infection should show DECREASES in neutro and lymph, and INCREASES in mono, eosino, and baso."
      ],
      "direct_transition": "Chest_X_Ray"
    },
    "Chest_X_Ray": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "399208008",
          "display": "Plain chest X-ray (procedure)"
        }
      ],
      "duration": {
        "low": 15,
        "high": 45,
        "unit": "minutes"
      },
      "direct_transition": "Determine Outcomes"
    },
    "Determine Outcomes": {
      "type": "CallSubmodule",
      "submodule": "covid19/outcomes",
      "direct_transition": "Hospitalization Day Begin"
    },
    "Hospitalization Procedures": {
      "type": "Simple",
      "direct_transition": "Oxygen"
    },
    "Hospitalization Medications": {
      "type": "Simple",
      "direct_transition": "Metered_Dose_Inhaler"
    },
    "Hospitalization Supplies": {
      "type": "Simple",
      "direct_transition": "Hospitalization Day End"
    },
    "Hospitalization Next Day": {
      "type": "Delay",
      "direct_transition": "Hospitalization Day Begin",
      "exact": {
        "quantity": 1,
        "unit": "days"
      }
    },
    "ICU Next Day": {
      "type": "Delay",
      "direct_transition": "ICU Day Begin",
      "exact": {
        "quantity": 1,
        "unit": "days"
      }
    },
    "ICU Procedures": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Ventilation",
          "condition": {
            "condition_type": "Active Condition",
            "codes": [
              {
                "system": "SNOMED-CT",
                "code": "65710008",
                "display": "Acute respiratory failure (disorder)"
              }
            ]
          }
        },
        {
          "transition": "ICU Oxygen"
        }
      ]
    },
    "ICU Medications": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Antibacterial_Injection",
          "condition": {
            "condition_type": "Active Condition",
            "codes": [
              {
                "system": "SNOMED-CT",
                "code": "65710008",
                "display": "Acute respiratory failure (disorder)"
              }
            ]
          }
        },
        {
          "transition": "Metered_Dose_Inhaler_ICU"
        }
      ]
    },
    "ICU Supplies": {
      "type": "Simple",
      "direct_transition": "ICU Day End"
    },
    "Metered_Dose_Inhaler": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": "2123111",
          "display": "NDA020503 200 ACTUAT Albuterol 0.09 MG/ACTUAT Metered Dose Inhaler"
        }
      ],
      "administration": true,
      "reason": "Respiratory Distress",
      "direct_transition": "Antimalarial_Medication"
    },
    "Oxygen": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "371908008",
          "display": "Oxygen administration by mask (procedure)"
        }
      ],
      "reason": "Respiratory Distress",
      "direct_transition": "Hospitalization Medications"
    },
    "Set_IL6": {
      "type": "SetAttribute",
      "attribute": "covid19_il6",
      "value": true,
      "direct_transition": "Hospital Inpatient Admission"
    },
    "IL6 Check": {
      "type": "Simple",
      "remarks": [
        "Only patients on clinical trials would get IL6 tests."
      ],
      "distributed_transition": [
        {
          "transition": "Set_IL6",
          "distribution": 0.03
        },
        {
          "transition": "Hospital Inpatient Admission",
          "distribution": 0.97
        }
      ]
    },
    "Antimalarial_Medication": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": "979092",
          "display": "Hydroxychloroquine Sulfate 200 MG Oral Tablet"
        }
      ],
      "administration": true,
      "reason": "Diagnosed COVID",
      "direct_transition": "Daily_Acetaminophen_for_Fever"
    },
    "Daily_Acetaminophen_for_Fever": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": "198440",
          "display": "Acetaminophen 500 MG Oral Tablet"
        }
      ],
      "administration": true,
      "direct_transition": "Hospitalization Supplies"
    },
    "Antibacterial_Injection": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": "1668238",
          "display": "Azithromycin 500 MG Injection"
        }
      ],
      "administration": true,
      "reason": "Pulmonary Edema",
      "remarks": [
        "Really this is only administered if there is an additional bacterial infection in the lungs."
      ],
      "direct_transition": "Antimalarial_Medication_ICU"
    },
    "Ventilation": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "26763009",
          "display": "Controlled ventilation procedure and therapy, initiation and management (procedure)"
        }
      ],
      "reason": "Respiratory Failure",
      "direct_transition": "ICU Medications"
    },
    "ICU First Day": {
      "type": "Simple",
      "direct_transition": "Chest_X_Ray_2"
    },
    "Chest_X_Ray_2": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "399208008",
          "display": "Plain chest X-ray (procedure)"
        }
      ],
      "duration": {
        "low": 15,
        "high": 45,
        "unit": "minutes"
      },
      "conditional_transition": [
        {
          "transition": "Intubation",
          "condition": {
            "condition_type": "Active Condition",
            "codes": [
              {
                "system": "SNOMED-CT",
                "code": "65710008",
                "display": "Acute respiratory failure (disorder)"
              }
            ]
          }
        },
        {
          "transition": "ICU Day Begin"
        }
      ]
    },
    "Intubation": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "112798008",
          "display": "Insertion of endotracheal tube (procedure)"
        }
      ],
      "duration": {
        "low": 20,
        "high": 30,
        "unit": "minutes"
      },
      "reason": "Respiratory Failure",
      "direct_transition": "ICU Day Begin"
    },
    "ICU Oxygen": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "371908008",
          "display": "Oxygen administration by mask (procedure)"
        }
      ],
      "reason": "Respiratory Distress",
      "direct_transition": "ICU Medications"
    },
    "Antimalarial_Medication_ICU": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": "979092",
          "display": "Hydroxychloroquine Sulfate 200 MG Oral Tablet"
        }
      ],
      "administration": true,
      "reason": "Diagnosed COVID",
      "direct_transition": "Daily_Acetaminophen_for_Fever_ICU"
    },
    "Metered_Dose_Inhaler_ICU": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": "2123111",
          "display": "NDA020503 200 ACTUAT Albuterol 0.09 MG/ACTUAT Metered Dose Inhaler"
        }
      ],
      "administration": true,
      "reason": "Respiratory Distress",
      "direct_transition": "Antimalarial_Medication_ICU"
    },
    "Daily_Acetaminophen_for_Fever_ICU": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": "198440",
          "display": "Acetaminophen 500 MG Oral Tablet"
        }
      ],
      "administration": true,
      "direct_transition": "ICU Supplies"
    },
    "Extubation_Check": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Extubation",
          "condition": {
            "condition_type": "PriorState",
            "name": "Intubation"
          }
        },
        {
          "transition": "Compassionate Care"
        }
      ],
      "direct_transition": "Extubation"
    },
    "Extubation": {
      "type": "Procedure",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "271280005",
          "display": "Removal of endotracheal tube (procedure)"
        }
      ],
      "duration": {
        "low": 20,
        "high": 40,
        "unit": "minutes"
      },
      "direct_transition": "Compassionate Care Check"
    },
    "Compassionate_Care": {
      "type": "MedicationOrder",
      "codes": [
        {
          "system": "RxNorm",
          "code": "1657981",
          "display": "20 ML tocilizumab 20 MG/ML Injection"
        }
      ],
      "remarks": [
        "Tocilizumab injection to prevent cytokine storms."
      ],
      "administration": true,
      "reason": "Diagnosed COVID",
      "prescription": {
        "dosage": {
          "amount": 1,
          "frequency": 1,
          "period": 8,
          "unit": "hours"
        },
        "duration": {
          "quantity": 24,
          "unit": "hours"
        }
      },
      "direct_transition": "Wait For End"
    },
    "Compassionate Care Check": {
      "type": "Simple",
      "conditional_transition": [
        {
          "transition": "Compassionate_Care",
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_death",
            "operator": "==",
            "value": true
          }
        },
        {
          "transition": "End Symptoms"
        }
      ]
    },
    "Wait For End": {
      "type": "Delay",
      "direct_transition": "Death",
      "range": {
        "low": 1,
        "high": 8,
        "unit": "hours"
      }
    },
    "End_Outcomes": {
      "type": "CallSubmodule",
      "submodule": "covid19/end_outcomes",
      "direct_transition": "Terminal"
    },
    "Transfer": {
      "type": "EncounterEnd",
      "direct_transition": "ICU Admission"
    },
    "Determine Discharge": {
      "type": "Simple",
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_death",
            "operator": "==",
            "value": true
          },
          "distributions": [
            {
              "transition": "Transfer",
              "distribution": 0.72
            },
            {
              "transition": "Wait For End",
              "distribution": 0.28
            }
          ]
        },
        {
          "distributions": [
            {
              "transition": "Transfer",
              "distribution": 0.08
            },
            {
              "transition": "End Symptoms",
              "distribution": 0.9199999999999999
            }
          ]
        }
      ]
    },
    "Admission Days": {
      "type": "SetAttribute",
      "attribute": "covid19_admission_days",
      "direct_transition": "Hospitalization First Day",
      "value": 0
    }
  }
}